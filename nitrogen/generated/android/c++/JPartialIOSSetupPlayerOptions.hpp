///
/// JPartialIOSSetupPlayerOptions.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© 2026 Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "PartialIOSSetupPlayerOptions.hpp"

#include "IOSCategory.hpp"
#include "IOSCategoryMode.hpp"
#include "IOSCategoryOptions.hpp"
#include "IOSCategoryPolicy.hpp"
#include "JIOSCategory.hpp"
#include "JIOSCategoryMode.hpp"
#include "JIOSCategoryOptions.hpp"
#include "JIOSCategoryPolicy.hpp"
#include <optional>
#include <vector>

namespace margelo::nitro::audiobrowser {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "PartialIOSSetupPlayerOptions" and the the Kotlin data class "PartialIOSSetupPlayerOptions".
   */
  struct JPartialIOSSetupPlayerOptions final: public jni::JavaClass<JPartialIOSSetupPlayerOptions> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/audiobrowser/PartialIOSSetupPlayerOptions;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct PartialIOSSetupPlayerOptions by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    PartialIOSSetupPlayerOptions toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldBuffer = clazz->getField<jni::JDouble>("buffer");
      jni::local_ref<jni::JDouble> buffer = this->getFieldValue(fieldBuffer);
      static const auto fieldCategory = clazz->getField<JIOSCategory>("category");
      jni::local_ref<JIOSCategory> category = this->getFieldValue(fieldCategory);
      static const auto fieldCategoryMode = clazz->getField<JIOSCategoryMode>("categoryMode");
      jni::local_ref<JIOSCategoryMode> categoryMode = this->getFieldValue(fieldCategoryMode);
      static const auto fieldCategoryOptions = clazz->getField<jni::JArrayClass<JIOSCategoryOptions>>("categoryOptions");
      jni::local_ref<jni::JArrayClass<JIOSCategoryOptions>> categoryOptions = this->getFieldValue(fieldCategoryOptions);
      static const auto fieldCategoryPolicy = clazz->getField<JIOSCategoryPolicy>("categoryPolicy");
      jni::local_ref<JIOSCategoryPolicy> categoryPolicy = this->getFieldValue(fieldCategoryPolicy);
      return PartialIOSSetupPlayerOptions(
        buffer != nullptr ? std::make_optional(buffer->value()) : std::nullopt,
        category != nullptr ? std::make_optional(category->toCpp()) : std::nullopt,
        categoryMode != nullptr ? std::make_optional(categoryMode->toCpp()) : std::nullopt,
        categoryOptions != nullptr ? std::make_optional([&]() {
          size_t __size = categoryOptions->size();
          std::vector<IOSCategoryOptions> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = categoryOptions->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }()) : std::nullopt,
        categoryPolicy != nullptr ? std::make_optional(categoryPolicy->toCpp()) : std::nullopt
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JPartialIOSSetupPlayerOptions::javaobject> fromCpp(const PartialIOSSetupPlayerOptions& value) {
      using JSignature = JPartialIOSSetupPlayerOptions(jni::alias_ref<jni::JDouble>, jni::alias_ref<JIOSCategory>, jni::alias_ref<JIOSCategoryMode>, jni::alias_ref<jni::JArrayClass<JIOSCategoryOptions>>, jni::alias_ref<JIOSCategoryPolicy>);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        value.buffer.has_value() ? jni::JDouble::valueOf(value.buffer.value()) : nullptr,
        value.category.has_value() ? JIOSCategory::fromCpp(value.category.value()) : nullptr,
        value.categoryMode.has_value() ? JIOSCategoryMode::fromCpp(value.categoryMode.value()) : nullptr,
        value.categoryOptions.has_value() ? [&]() {
          size_t __size = value.categoryOptions.value().size();
          jni::local_ref<jni::JArrayClass<JIOSCategoryOptions>> __array = jni::JArrayClass<JIOSCategoryOptions>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.categoryOptions.value()[__i];
            auto __elementJni = JIOSCategoryOptions::fromCpp(__element);
            __array->setElement(__i, *__elementJni);
          }
          return __array;
        }() : nullptr,
        value.categoryPolicy.has_value() ? JIOSCategoryPolicy::fromCpp(value.categoryPolicy.value()) : nullptr
      );
    }
  };

} // namespace margelo::nitro::audiobrowser
